<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Program_4[1]</title><meta name="author" content="DELL"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h1 { color: #6F2F9F; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 16pt; }
 .s1 { color: #F00; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 h2 { color: #006FC0; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s2 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s3 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 p { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; margin:0pt; }
 .s5 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 h3 { color: #00AF50; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s6 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s7 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s8 { color: #00AF50; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 li {display: block; }
 #l1 {padding-left: 0pt;counter-reset: c1 1; }
 #l1> li>*:first-child:before {counter-increment: c1; content: counter(c1, decimal)". "; color: #F00; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 #l1> li:first-child>*:first-child:before {counter-increment: c1 0;  }
 #l2 {padding-left: 0pt; }
 #l2> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 li {display: block; }
 #l3 {padding-left: 0pt; }
 #l3> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
</style></head><body><h1 style="padding-left: 9pt;text-indent: 104pt;line-height: 171%;text-align: left;">Module-4: Generic Views and Django State Persistence Laboratory Component:</h1><ol id="l1"><li data-list-text="1."><p class="s1" style="padding-left: 23pt;text-indent: -18pt;text-align: left;">For students enrolment developed in Module 2, create a generic class view which displays list of students and detailview that displays student details for any selected student in the list.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 1: Create Models</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">In your <span class="s3">models.py </span>file, define the <span class="s3">Student </span>and <span class="s3">Course </span>models.</p><p style="padding-top: 1pt;padding-left: 9pt;text-indent: 0pt;line-height: 25pt;text-align: justify;">from django.db import models class Course(models.Model):</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">name = models.CharField(max_length=255)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">def <u>&nbsp;</u>str<u> </u>(self):</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">return self.name</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: justify;">class Student(models.Model):</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: justify;">first_name = models.CharField(max_length=255, default=&#39;&#39;) last_name = models.CharField(max_length=255, default=&#39;&#39;) email = models.EmailField(unique=True, default=&#39;&#39;)</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: justify;">courses = models.ManyToManyField(Course, related_name=&#39;students&#39;, blank=True) project = models.ManyToManyField(&#39;Project&#39;, related_name=&#39;students&#39;, blank=True)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">def <u>&nbsp;</u>str<u> </u>(self):</p><p style="padding-left: 27pt;text-indent: 0pt;text-align: left;">return f&quot;{self.first_name} {self.last_name}&quot;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 2: Create Views</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">In your <span class="s3">views.py </span>file, define the list and detail views for students.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: justify;">from django.views.generic import ListView, DetailView from .models import Student</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">class StudentListView(ListView):</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">model = Student</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">template_name = &#39;registration/stu_list.html&#39; context_object_name = &#39;students&#39;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">class StudentDetailView(DetailView):</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">model = Student</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">template_name = &#39;registration/student_detail.html&#39; context_object_name = &#39;student&#39;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 3: Create Templates</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Create the templates for listing and displaying student details.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">stu_list.html<span class="s5">:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">{% extends &#39;base.html&#39; %}</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">{% block content %}</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;h1&gt;Students&lt;/h1&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;ul&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">{% for student in students %}</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">&lt;li&gt;</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;a href=&quot;{% url &#39;student_detail&#39; student.pk %}&quot;&gt;{{ student.first_name }} {{ student.last_name }}&lt;/a&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/li&gt;</p><p style="padding-top: 1pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">{% endfor %}</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/ul&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 215%;text-align: left;">{% endblock %} student_detail.html<span class="s5">:</span></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 9pt;text-align: left;">{% extends &#39;base.html&#39; %}</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">{% block content %}</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;container my-5&quot;&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;div class=&quot;row&quot;&gt;</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;div class=&quot;col-md-6 offset-md-3&quot;&gt;</p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;card&quot;&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;text-align: left;">&lt;div class=&quot;card-body&quot;&gt;</p><p style="padding-left: 54pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;h1 class=&quot;card-title&quot;&gt;Name: {{ student.first_name }} {{ student.last_name }}&lt;/h1&gt;</p><p style="padding-left: 54pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;h1 class=&quot;card-title&quot;&gt;Email: {{ student.email }}&lt;/h1&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/div&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/div&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">&lt;/div&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">{% endblock %}</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 4: Add URL Patterns</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Update your <span class="s3">urls.py </span>file to include the paths for the student list and detail views.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">from django.urls import path</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">from .views import StudentListView, StudentDetailView</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">urlpatterns = [</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">path(&#39;students/&#39;, StudentListView.as_view(), name=&#39;student_list_all&#39;), path(&#39;students/&lt;int:pk&gt;/&#39;, StudentDetailView.as_view(), name=&#39;student_detail&#39;),</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 5: Create an Index Template</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Create the <span class="s3">index.html </span>template to display the list of students on the main page.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">index.html<span class="s5">:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;h1 class=&quot;mt-5 my-5&quot;&gt;Students&lt;/h1&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;ul class=&quot;list-group mt-3&quot;&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">{% for student in students %}</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;li class=&quot;list-group-item&quot;&gt;</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;a href=&quot;{% url &#39;student_detail&#39; student.pk %}&quot;&gt;{{ student.first_name }} {{ student.last_name }}&lt;/a&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">&lt;/li&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">{% endfor %}</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">&lt;/ul&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 6: Run the Development Server</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l2"><li data-list-text=""><p class="s2" style="padding-left: 45pt;text-indent: -18pt;text-align: left;">Run the development server:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 54pt;text-indent: 0pt;text-align: left;">python manage.py runserver</h3><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li data-list-text=""><p class="s2" style="padding-left: 45pt;text-indent: -18pt;text-align: left;">Open your web browser and visit http://127.0.0.1:8000/ to see the list of students.</p></li></ul></li><li data-list-text="2."><p class="s1" style="padding-top: 1pt;padding-left: 9pt;text-indent: 0pt;line-height: 114%;text-align: left;">Develop example Django app that performs CSV and PDF generation for any models created in previous laboratory component.</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 1: Create Models</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">In <span class="s3">models.py</span>, add the <span class="s3">Book </span>model.</p><p style="padding-top: 2pt;padding-left: 9pt;text-indent: 0pt;line-height: 24pt;text-align: left;">from django.db import models class Book(models.Model):</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">title = models.CharField(max_length=200) author = models.CharField(max_length=200) publication_date = models.DateField()</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: right;">def <u>&nbsp;</u>str<u> </u>(self):</p><p style="text-indent: 0pt;text-align: right;">return self.title</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 2: Create Views</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">In <span class="s3">views.py</span>, add the views for exporting books as CSV and PDF.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">import csv</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">from django.http import HttpResponse</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">from django.template.loader import get_template from xhtml2pdf import pisa</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">from .models import Book</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">def export_books_csv(request):</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">response = HttpResponse(content_type=&#39;text/csv&#39;) response[&#39;Content-Disposition&#39;] = &#39;attachment; filename=&quot;books.csv&quot;&#39; writer = csv.writer(response)</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">writer.writerow([&#39;Title&#39;, &#39;Author&#39;, &#39;Publication Date&#39;])</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">books = Book.objects.all().values_list(&#39;title&#39;, &#39;author&#39;, &#39;publication_date&#39;) for book in books:</p><p style="padding-left: 18pt;text-indent: 9pt;text-align: left;">writer.writerow(book) return response</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">def export_books_pdf(request):</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">books = Book.objects.all() template_path = &#39;books/book_list.html&#39; context = {&#39;books&#39;: books}</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">response = HttpResponse(content_type=&#39;application/pdf&#39;) response[&#39;Content-Disposition&#39;] = &#39;attachment; filename=&quot;books.pdf&quot;&#39; template = get_template(template_path)</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">html = template.render(context)</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">pisa_status = pisa.CreatePDF(html, dest=response) if pisa_status.err:</p><p style="padding-left: 18pt;text-indent: 9pt;text-align: left;">return HttpResponse(&#39;We had some errors &lt;pre&gt;&#39; + html + &#39;&lt;/pre&gt;&#39;) return response</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 3: Create Templates</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Create the template for rendering the PDF.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">book_list.html<span class="s5">:</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;!DOCTYPE html&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;html&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">&lt;head&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">&lt;title&gt;Book List&lt;/title&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">&lt;style&gt;</p><p style="padding-top: 1pt;padding-left: 27pt;text-indent: 0pt;text-align: left;">body { font-family: Arial, sans-serif; }</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">table { border-collapse: collapse; width: 100%; }</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">th, td { padding: 8px; text-align: left; border-bottom: 1px solid #ddd; }</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">&lt;/style&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">&lt;/head&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;body&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;h1&gt;Book List&lt;/h1&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">&lt;table&gt;</p><p style="padding-left: 22pt;text-indent: 0pt;text-align: center;">&lt;thead&gt;</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 12pt;text-align: center;">&lt;tr&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;th&gt;Title&lt;/th&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;text-align: left;">&lt;th&gt;Author&lt;/th&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;th&gt;Publication Date&lt;/th&gt;</p><p style="padding-left: 26pt;text-indent: 0pt;line-height: 12pt;text-align: center;">&lt;/tr&gt;</p><p style="padding-left: 26pt;text-indent: 0pt;text-align: center;">&lt;/thead&gt;</p><p style="padding-left: 22pt;text-indent: 0pt;text-align: center;">&lt;tbody&gt;</p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 12pt;text-align: left;">{% for book in books %}</p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;tr&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;text-align: left;">&lt;td&gt;{{ book.title }}&lt;/td&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;text-align: left;">&lt;td&gt;{{ book.author }}&lt;/td&gt;</p><p style="padding-left: 45pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;td&gt;{{ book.publication_date }}&lt;/td&gt;</p><p style="padding-left: 36pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/tr&gt;</p><p style="padding-left: 36pt;text-indent: 0pt;text-align: left;">{% endfor %}</p><p style="padding-left: 27pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/tbody&gt;</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">&lt;/table&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">&lt;/body&gt;</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">&lt;/html&gt;</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 4: Add URL Patterns</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Update your <span class="s3">urls.py </span>file to include the paths for exporting books as CSV and PDF.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">from django.urls import path</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">from .views import export_books_csv, export_books_pdf</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">urlpatterns = [</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">path(&#39;books/export/csv/&#39;, export_books_csv, name=&#39;export_books_csv&#39;), path(&#39;books/export/pdf/&#39;, export_books_pdf, name=&#39;export_books_pdf&#39;),</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 5: Install Dependencies</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Install the <span class="s3">xhtml2pdf </span>library for generating PDF files.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">pip install xhtml2pdf</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 6: Create Book Data</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">You can create book data using the Django shell, data migration, or a custom script.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s6" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Using Django Shell</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">python manage.py shell</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">from books.models import Book Book.objects.bulk_create([</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">Book(title=&#39;To Kill a Mockingbird&#39;, author=&#39;Harper Lee&#39;, publication_date=&#39;1960-07-11&#39;), Book(title=&#39;1984&#39;, author=&#39;George Orwell&#39;, publication_date=&#39;1949-06-08&#39;), Book(title=&#39;Pride and Prejudice&#39;, author=&#39;Jane Austen&#39;, publication_date=&#39;1813-01-28&#39;), Book(title=&#39;The Great Gatsby&#39;, author=&#39;F. Scott Fitzgerald&#39;, publication_date=&#39;1925-04-10&#39;), Book(title=&#39;The Catcher in the Rye&#39;, author=&#39;J.D. Salinger&#39;, publication_date=&#39;1951-07-16&#39;),</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">])</p><p class="s7" style="padding-top: 1pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Using Data Migration</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Create a new data migration:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">python manage.py makemigrations books --empty</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Edit the migration file:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">from django.db import migrations</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">def create_book_data(apps, schema_editor):</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">Book = apps.get_model(&#39;books&#39;, &#39;Book&#39;) Book.objects.bulk_create([</p><p style="padding-left: 27pt;text-indent: 0pt;text-align: left;">Book(title=&#39;To Kill a Mockingbird&#39;, author=&#39;Harper Lee&#39;, publication_date=&#39;1960-07-11&#39;), Book(title=&#39;1984&#39;, author=&#39;George Orwell&#39;, publication_date=&#39;1949-06-08&#39;), Book(title=&#39;Pride and Prejudice&#39;, author=&#39;Jane Austen&#39;, publication_date=&#39;1813-01-28&#39;), Book(title=&#39;The Great Gatsby&#39;, author=&#39;F. Scott Fitzgerald&#39;, publication_date=&#39;1925-04-10&#39;), Book(title=&#39;The Catcher in the Rye&#39;, author=&#39;J.D. Salinger&#39;, publication_date=&#39;1951-07-16&#39;),</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">])</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;text-indent: -9pt;text-align: left;">class Migration(migrations.Migration): dependencies = [</p><p style="padding-left: 27pt;text-indent: 0pt;text-align: left;">(&#39;books&#39;, &#39;0001_initial&#39;),</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 27pt;text-indent: -9pt;text-align: left;">operations = [ migrations.RunPython(create_book_data),</p><p style="padding-left: 18pt;text-indent: 0pt;line-height: 12pt;text-align: left;">]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Apply the migration:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">python manage.py migrate</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Using Custom Script</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Create a script (e.g., <span class="s3">create_book_data.py</span>):</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">import os</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">os.environ.setdefault(&#39;DJANGO_SETTINGS_MODULE&#39;, &#39;fullstack_project.settings&#39;) import django</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">django.setup()</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">from books.models import Book Book.objects.bulk_create([</p><p style="padding-left: 18pt;text-indent: 0pt;text-align: left;">Book(title=&#39;To Kill a Mockingbird&#39;, author=&#39;Harper Lee&#39;, publication_date=&#39;1960-07-11&#39;), Book(title=&#39;1984&#39;, author=&#39;George Orwell&#39;, publication_date=&#39;1949-06-08&#39;), Book(title=&#39;Pride and Prejudice&#39;, author=&#39;Jane Austen&#39;, publication_date=&#39;1813-01-28&#39;), Book(title=&#39;The Great Gatsby&#39;, author=&#39;F. Scott Fitzgerald&#39;, publication_date=&#39;1925-04-10&#39;), Book(title=&#39;The Catcher in the Rye&#39;, author=&#39;J.D. Salinger&#39;, publication_date=&#39;1951-07-16&#39;),</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 12pt;text-align: left;">])</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s8" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Run the script:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">python create_book_data.py</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 7: Update Project URLs</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s2" style="padding-left: 9pt;text-indent: 0pt;line-height: 196%;text-align: left;">Include the book app URLs in your main project <span class="s3">urls.py</span>. <span class="s3">from django.urls import include, path</span></p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">urlpatterns = [</p><p style="padding-top: 1pt;padding-left: 18pt;text-indent: 0pt;text-align: left;">path(&#39;books/&#39;, include(&#39;books.urls&#39;)),</p><p style="padding-left: 9pt;text-indent: 0pt;text-align: left;">]</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-top: 2pt;padding-left: 9pt;text-indent: 0pt;text-align: left;">Step 8: Run the Development Server</h2><p style="text-indent: 0pt;text-align: left;"><br/></p><h3 style="padding-left: 9pt;text-indent: 0pt;text-align: left;">python manage.py runserver</h3><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l3"><li data-list-text=""><p class="s2" style="padding-left: 45pt;text-indent: -18pt;line-height: 15pt;text-align: left;">Open your web browser and visit <span class="s3">http://127.0.0.1:8000/books/export/csv/ </span>to export books as a CSV file.</p></li><li data-list-text=""><p class="s2" style="padding-left: 45pt;text-indent: -18pt;line-height: 15pt;text-align: left;">Visit <span class="s3">http://127.0.0.1:8000/books/export/pdf/ </span>to export books as a PDF file.</p></li></ul></body></html>
